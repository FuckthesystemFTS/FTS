  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Rewards Bot</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-weight: bold;
            margin: 0;
            padding: 0;
            background-image: url('image7.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white; 
        }

        #app {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            position: relative;
        }

        h1 {
            font-size: 48px;
            margin-bottom: 10px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        p {
            font-size: 18px;
            margin-bottom: 20px;
            color: white; 
            text-shadow: 1px 1px 2px black;
        }

        button {
            background-color: #006400;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px black;
            transition: background-color 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #004d00;
            transform: scale(1.05);
        }

        #tasks-section h2 {
            margin-top: 0;
            color: white;
            text-shadow: 1px 1px 2px black;
        }

        #tasks-list {
            list-style-type: none;
            padding: 0;
        }

        #tasks-list li {
            margin-bottom: 10px;
            color: white;
            text-shadow: 1px 1px 2px black;
        }

        #balance {
            font-size: 24px;
            margin-bottom: 20px;
            color: white;
            text-shadow: 1px 1px 2px black;
        }

        #balance span {
            color: white;
        }

        #balance-earn {
            font-size: 20px;
            color: white;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px black;
        }

        #daily-check-in {
            font-size: 18px;
            margin-bottom: 20px;
            background-color: #006400;
            color: white;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            display: none;
            text-shadow: 1px 1px 2px black;
        }

        #notification {
            display: none;
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #006400;
            color: white;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            text-shadow: 1px 1px 2px black;
        }

        #staking-section h2, #wallet-section h2, #transfer-section h2 {
            color: white;
            text-shadow: 1px 1px 2px black;
        }

        #staking-details, #wallet-section, #transfer-section {
            margin-top: 20px;
        }
    </style>
</head>
<body onload="initializeApp()">
    <div id="app">
        <p>Complete activities and earn tokens!</p>
        <div id="balance">Token Balance: <span id="balance-value">0</span> FTS</div>
        <div id="balance-earn">Balance FTS EARN: <span id="balance-earn-value">0</span> FTS</div>

        <div id="daily-check-in" onclick="claimDailyReward()">Daily Check-in: Claim 500 Tokens</div>
        <div id="notification">Daily check-in 500 FTS</div>

        <div id="tasks-section">
            <h2>Available Activities</h2>
            <ul id="tasks-list">
                <li id="follow-task">
                    <p>Follow us on X</p>
                    <button onclick="completeTask('follow', 'https://x.com/Fu_ktheSytemFTS?t=ZkWnQZs8Ii25MlmPwsiodQ&s=09', 1000, 'follow-task')">Follow</button>
                </li>
            </ul>
        </div>

        <button onclick="completeTask('retweet', 'https://x.com/Fu_ktheSytemFTS/status/1831319940390896122?t=gSR8pMZgrmUdn7yR2HJ8dQ&s=19', 2000, 'retweet-task')">Retweet</button>
        <button onclick="completeTask('join', 'https://t.me/FucktheSystemCommunity', 2000, 'join-task')">Join us</button>

        <div id="staking-section">
            <h2>Staking</h2>
            <button onclick="startStaking(50, '1 week')">50% APY (1 week)</button>
            <button onclick="startStaking(100, '4 weeks')">100% APY (4 weeks)</button>
            <button onclick="startStaking(200, '3 months')">200% APY (3 months)</button>
        </div>

        <div id="staking-details" style="display:none;">
            <h3>Staking Details</h3>
            <p>Duration: <span id="staking-duration"></span></p>
            <p>Max Amount to Stake: <span id="max-stake"></span> FTS</p>
            <input type="number" id="stake-amount" placeholder="Enter amount to stake">
            <button onclick="confirmStaking()">Confirm Staking</button>
        </div>

        <div id="wallet-section">
            <h2>Wallet Management</h2>
            <button onclick="connectWallet()">Connect Wallet</button>
            <p>Connected Wallet: <span id="connected-wallet"></span></p>
        </div>

        <div id="transfer-section">
            <h2>Token Transfer</h2>
            <input type="number" id="transfer-amount" placeholder="Enter amount to transfer">
            <button onclick="transferTokens()">Transfer Tokens</button>
            <p id="transfer-status"></p>
        </div>
    </div>

    <!-- Import WalletConnect -->
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.6/dist/umd/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.6.9/dist/ethers.min.js"></script>
    <script>
        let provider;
        let signer;
        let userWalletAddress;
        const tokenAddress = "0xF87993C72C40268FF93989810192e575D17CAfb0"; // Indirizzo contratto FTS
        const tokenAbi = [
            "function balanceOf(address owner) view returns (uint256)",
            "function transfer(address recipient, uint256 amount) public returns (bool)"
        ];

        // Funzione per connettersi tramite WalletConnect
        async function connectWallet() {
            const walletConnectProvider = new WalletConnectProvider({
                rpc: {
                    56: 'https://bsc-dataseed.binance.org/', // RPC URL per la rete Binance Smart Chain
                },
                chainId: 56, // Binance Smart Chain Mainnet
            });

            // Abilita WalletConnect
            await walletConnectProvider.enable();
            provider = new ethers.providers.Web3Provider(walletConnectProvider);
            signer = provider.getSigner();
            userWalletAddress = await signer.getAddress();

            // Mostra l'indirizzo del wallet connesso
            document.getElementById('connected-wallet').textContent = userWalletAddress;
            localStorage.setItem('walletAddress', userWalletAddress);
            updateBalance(); // Aggiorna il saldo dopo il login
        }

        function initializeApp() {
            updateBalance();
            checkDailyCheckIn();
            checkStaking();
            loadCompletedTasks();
            initializeWallet();
        }

        async function updateBalance() {
            const balance = await getTokenBalance();
            document.getElementById('balance-value').textContent = balance;
            localStorage.setItem('balance', balance);
        }

        async function getTokenBalance() {
            if (userWalletAddress && provider) {
                const tokenContract = new ethers.Contract(tokenAddress, tokenAbi, provider);
                const balance = await tokenContract.balanceOf(userWalletAddress);
                return ethers.utils.formatUnits(balance, 18); // Assuming 18 decimals for FTS
            }
            return 0;
        }

        function completeTask(task, url, reward, taskId) {
            const completedTasks = JSON.parse(localStorage.getItem('completedTasks')) || {};
            if (completedTasks[taskId]) {
                alert('This task has already been completed.');
                return;
            }

            window.open(url, '_blank');
            const currentBalance = parseInt(localStorage.getItem('balance') || '0', 10);
            const newBalance = currentBalance + reward;
            localStorage.setItem('balance', newBalance);
            completedTasks[taskId] = true;
            localStorage.setItem('completedTasks', JSON.stringify(completedTasks));
            updateBalance();
            showNotification('Task completed! You earned ' + reward + ' FTS');
        }

        function loadCompletedTasks() {
            const completedTasks = JSON.parse(localStorage.getItem('completedTasks')) || {};
            for (const taskId in completedTasks) {
                const taskElement = document.getElementById(taskId);
                if (completedTasks[taskId]) {
                    const taskButton = document.querySelector(`#${taskId} button`);
                    if (taskButton) {
                        taskButton.disabled = true;
                        taskButton.textContent = 'Task Completed';
                    }
                }
            }
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        function claimDailyReward() {
            const lastClaim = localStorage.getItem('lastClaimDate');
            const currentDate = new Date().toISOString().split('T')[0];
            
            if (lastClaim !== currentDate) {
                const balance = parseInt(localStorage.getItem('balance') || '0', 10);
                const newBalance = balance + 500;
                localStorage.setItem('balance', newBalance);
                localStorage.setItem('lastClaimDate', currentDate);
                updateBalance();
                showNotification('Daily check-in claimed: 500 FTS');
            } else {
                alert('You have already claimed your daily reward.');
            }
        }

        function checkDailyCheckIn() {
            const lastClaim = localStorage.getItem('lastClaimDate');
            const currentDate = new Date().toISOString().split('T')[0];
            if (lastClaim !== currentDate) {
                document.getElementById('daily-check-in').style.display = 'block';
            }
        }

        function startStaking(percentage, duration) {
            document.getElementById('staking-details').style.display = 'block';
            document.getElementById('staking-duration').textContent = duration;
            document.getElementById('max-stake').textContent = percentage * 100; // Max stake in FTS
        }

        function confirmStaking() {
            const stakeAmount = document.getElementById('stake-amount').value;
            if (!stakeAmount || isNaN(stakeAmount) || stakeAmount <= 0) {
                alert('Please enter a valid staking amount.');
                return;
            }

            // Perform staking logic here
            alert('Staking confirmed! Amount: ' + stakeAmount + ' FTS');
            document.getElementById('staking-details').style.display = 'none';
        }

        async function transferTokens() {
            const transferAmount = document.getElementById('transfer-amount').value;
            if (!transferAmount || isNaN(transferAmount) || transferAmount <= 0) {
                alert('Please enter a valid transfer amount.');
                return;
            }

            const tokenContract = new ethers.Contract(tokenAddress, tokenAbi, signer);
            const recipient = prompt('Enter recipient wallet address:');
            if (recipient) {
                try {
                    const tx = await tokenContract.transfer(recipient, ethers.utils.parseUnits(transferAmount, 18));
                    await tx.wait();
                    document.getElementById('transfer-status').textContent = `Transfer successful! ${transferAmount} FTS sent to ${recipient}`;
                    updateBalance();
                } catch (error) {
                    document.getElementById('transfer-status').textContent = 'Transfer failed. Please try again.';
                }
            }
        }

        function checkStaking() {
            const stakingInfo = localStorage.getItem('staking');
            if (stakingInfo) {
                const stakingData = JSON.parse(stakingInfo);
                document.getElementById('staking-details').style.display = 'none';
                showNotification(`You are staking ${stakingData.amount} FTS for ${stakingData.duration}`);
            }
        }

        function initializeWallet() {
            const walletAddress = localStorage.getItem('walletAddress');
            if (walletAddress) {
                userWalletAddress = walletAddress;
                document.getElementById('connected-wallet').textContent = userWalletAddress;
            }
        }
    </script>
</body>
</html>
